<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniQ - Ask Question</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="stylesheet" href="{{url_for ('static',filename='css/styles.css')}}">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <button class="mobile-menu-toggle" id="mobile-menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
            
            <a href="{{ url_for('index') }}" class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span>UniQ</span>
            </a>

            <div class="nav-icons">
                <div class="nav-icon" id="ask-btn">
                    <i class="fas fa-plus-circle"></i>
                    <span>Ask</span>
                </div>
                <div class="nav-icon" id="notifications-btn">
                    <i class="fas fa-bell"></i>
                    <span>Notif</span>
                    <div class="notification-badge">3</div>
                </div>
                <div class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon toggle-icon" id="theme-icon"></i>
                    <span class="toggle-text">Dark Mode</span>
                </div>
                <a href="{{url_for('profile')}}" class="user-avatar" id="profile-btn">
                    {% if user.image %}
  <img src="{{ url_for('static', filename='uploads/' + user.image) }}" alt="Avatar">
{% else %}
  <img src="https://api.dicebear.com/6.x/avataaars/svg?seed={{ user.username }}" alt="Default Avatar">
{% endif %}
                </a>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-header">
            <div class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span>UniQ</span>
            </div>
            <button class="close-mobile-menu" id="close-mobile-menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <a href="{{ url_for('index') }}" class="menu-item">
            <i class="fas fa-home"></i>
            <span>Home Feed</span>
        </a>
        <a href="ask.html" class="menu-item active-menu">
            <i class="fas fa-question-circle"></i>
            <span>Ask Question</span>
        </a>
        <a href="{{url_for('profile')}}" class="menu-item">
            <i class="fas fa-user"></i>
            <span>My Profile</span>
        </a>
    </div>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Left Sidebar -->
        <div class="sidebar">
            <div class="sidebar-card">
                <h3 class="sidebar-title">Menu</h3>
                <a href="{{ url_for('index') }}" class="menu-item">
                    <i class="fas fa-home"></i>
                    <span>Home Feed</span>
                </a>
                <a href="{{url_for('ask')}}" class="menu-item active-menu">
                    <i class="fas fa-question-circle"></i>
                    <span>Ask Question</span>
                </a>
                <a href="{{url_for('profile')}}" class="menu-item">
                    <i class="fas fa-user"></i>
                    <span>My Profile</span>
                </a>
            </div>
            
            <div class="sidebar-card">
                <h3 class="sidebar-title">Top Departments</h3>
                <div class="tag-list">
                    <div class="tag">Computer Science</div>
                    <div class="tag">Electrical Engineering</div>
                    <div class="tag">Mechanical</div>
                    <div class="tag">Business Admin</div>
                </div>
            </div>
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Ask Question Form -->
            <div class="content-card">
                <h2 class="form-title">Ask a Question</h2>
                <form class="ask-form" id="ask-question-form" method="POST" action="{{url_for('askques')}}">
                    <div class="form-group">
                        <label class="form-label">Question Title</label>
                        <input type="text" class="form-input" name="title" placeholder="Be specific and imagine you're asking another person" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Question Details</label>
                        <div class="rich-text-editor">
                            <div class="editor-toolbar">
                                <button class="tool-button" title="Bold"><i class="fas fa-bold"></i></button>
                                <button class="tool-button" title="Italic"><i class="fas fa-italic"></i></button>
                                <button class="tool-button" title="Underline"><i class="fas fa-underline"></i></button>
                                <button class="tool-button" title="List"><i class="fas fa-list-ul"></i></button>
                                <button class="tool-button" title="Numbered List"><i class="fas fa-list-ol"></i></button>
                                <button class="tool-button" title="Link"><i class="fas fa-link"></i></button>
                                <button class="tool-button" title="Image"><i class="fas fa-image"></i></button>
                                <button class="tool-button" title="Code"><i class="fas fa-code"></i></button>
                            </div>
                            <div class="editor-content" id="editor" contenteditable="true"></div>
                            <input type="hidden" name="description" id="hidden-content">    
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label class="form-label">Department</label>
                                <select class="form-input" name="department" required>
                                    <option value="">Select Department</option>
                                    <option value="Computer Science">Computer Science</option>
                                    <option value="Electrical Engineering">Electrical Engineering</option>
                                    <option value="Mechanical Engineering">Mechanical Engineering</option>
                                    <option value="Mathematics">Mathematics</option>
                                    <option value="Biology">Biology</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label class="form-label">Course/Subject</label>
                                <select class="form-input" name="subject" required>
                                    <option value="">Select Course</option>
                                    <option value="algo">Algorithms</option>
                                    <option value="ds">Data Structures</option>
                                    <option value="db">Database Systems</option>
                                    <option value="os">Operating Systems</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Tags</label>
                        <div class="tag-input-container">
                            <input type="text" class="form-input" name="tags" placeholder="Add up to 5 tags (e.g. python, algorithms)" required>
                            <i class="fas fa-tag tag-icon"></i>
                        </div>
                        <input type="hidden" id="tags-hidden" name="tags_array">
                        <div class="tag-preview" id="tags-preview">
                            <!-- Tags will be added here by JavaScript -->
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-button" style="width: 100%;">Post Your Question</button>
                </form>
            </div>
        </div>
        
        <!-- Right Sidebar -->
        <div class="right-sidebar">
            <div class="sidebar-card">
                <h3 class="sidebar-title">Tips for Asking</h3>
                <div class="question-content">
                    <p><strong>1. Be specific:</strong> Clearly describe your problem or question.</p>
                    <p><strong>2. Provide context:</strong> Include relevant details about what you're trying to achieve.</p>
                    <p><strong>3. Show your work:</strong> Share what you've tried so far.</p>
                    <p><strong>4. Use proper tags:</strong> Help others find your question by tagging it correctly.</p>
                </div>
            </div>
            
            <div class="sidebar-card">
                <h3 class="sidebar-title">Popular Tags</h3>
                <div class="tag-list">
                    <div class="tag">#algorithms</div>
                    <div class="tag">#calculus</div>
                    <div class="tag">#oop</div>
                    <div class="tag">#circuits</div>
                    <div class="tag">#assignment-help</div>
                    <div class="tag">#exam-prep</div>
                </div>
            </div>
        </div>
    </div>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const editor = document.getElementById("editor");
    const hiddenInput = document.getElementById("hidden-content");

    // Toolbar buttons
    document.querySelectorAll(".tool-button").forEach(button => {
        button.addEventListener("click", function (e) {
            e.preventDefault();
            const command = this.title.toLowerCase();

            if (command === "image") {
                const url = prompt("Enter image URL");
                if (url) {
                    document.execCommand("insertImage", false, url);
                }
            } else if (command === "link") {
                const url = prompt("Enter URL");
                if (url) {
                    document.execCommand("createLink", false, url);
                }
            } else if (command === "code") {
                const code = prompt("Enter code snippet");
                if (code) {
                    document.execCommand("insertHTML", false, `<pre><code>${code}</code></pre>`);
                }
            } else {
                document.execCommand(command);
            }
        });
    });

    // Form submission – capture HTML from contenteditable
    document.getElementById("ask-question-form").addEventListener("submit", function () {
        hiddenInput.value = editor.innerHTML;
    });
});
</script>
       <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>
</html>